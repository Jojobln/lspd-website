<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Uniformen – LSPD</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #111;
      color: #ccc;
    }
    
    .header {
      background-color: #0a0a0a;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .logo-text {
      font-size: 22px;
      color: #00aaff;
    }
    
    .hamburger {
      font-size: 26px;
      color: #fff;
      cursor: pointer;
      user-select: none;
      display: block;
    }
    
    .nav-menu {
      background-color: #1a1a1a;
      padding: 10px;
    }
    
    .hidden {
      display: none !important;
    }
    
    .nav-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .nav-links li {
      margin: 10px 0;
    }
    
    .nav-links a {
      color: #00aaff;
      text-decoration: none;
      font-weight: bold;
    }
    
    .nav-links a:hover {
      text-decoration: underline;
    }
    
    /* Responsive Menü */
    @media (min-width: 768px) {
      .nav-menu {
        display: block !important;
        background: none;
        padding: 0;
      }
      .hamburger {
        display: none;
      }
      .nav-links {
        display: flex;
      }
      .nav-links li {
        margin: 0 15px;
      }
    }
    
    .content-section {
      padding: 30px 20px;
      max-width: 1000px;
      margin: 0 auto;
    }
    
    /* Division Boxen */
    .division {
      background-color: #1e1e1e;
      border: 1px solid #333;
      padding: 20px;
      margin-bottom: 30px;
      border-radius: 6px;
    }
    
    .division h3 {
      color: #00aaff;
      margin-top: 0;
    }
    
    .division p, .division textarea {
      font-size: 16px;
      line-height: 1.6;
      color: #fff;
      background: transparent;
      border: none;
      resize: vertical;
      width: 100%;
      min-height: 50px;
      font-family: Arial, sans-serif;
    }
    .division textarea {
      border: 1px solid #555;
      border-radius: 4px;
      padding: 5px;
      color: #ccc;
      background-color: #222;
      display: none;
    }

    .uniform {
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .uniform img {
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      border: 1px solid #444;
    }
    
    .uniform-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 15px;
    }

    /* Bearbeiten Buttons */
    .edit-btn, .save-btn, .cancel-btn {
      margin-top: 5px;
      background-color: #00aaff;
      border: none;
      color: white;
      padding: 6px 10px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      width: fit-content;
    }
    .save-btn {
      background-color: #28a745;
      margin-left: 5px;
    }
    .cancel-btn {
      background-color: #dc3545;
      margin-left: 5px;
    }
    .btn-group {
      margin-top: 5px;
    }
    
    /* Footer */
    .footer {
      text-align: center;
      padding: 20px;
      background-color: #0a0a0a;
      color: #777;
    }
  </style>
</head>
<body>

  <header class="header">
    <div class="container nav-container">
      <h1 class="logo-text">Los Santos Police Department</h1>
      <div class="hamburger" onclick="toggleMenu()" aria-label="Navigation umschalten" role="button" tabindex="0">&#9776;</div>
      <nav id="nav-menu" class="nav-menu hidden">
        <ul class="nav-links">
          <li><a href="/lspd-website/index.html">Startseite</a></li>
          <li><a href="/lspd-website/fahrzeuge/fahrzeuge.html">Fahrzeuge</a></li>
          <li><a href="/lspd-website/raenge/raenge.html">Ränge</a></li>
          <li><a href="/lspd-website/divisions/divisions.html">Divisions</a></li>
          <li><a href="/lspd-website/termine/termine.html">Termine</a></li>
          <li><a href="/lspd-website/news/news.html">News</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="content-section">
    <h2>Uniformen nach Division</h2>

    <!-- Patrol Unit -->
    <div class="division" data-id="patrol">
      <h3>Patrol Unit</h3>
      <div class="uniform">
        <img src="bilder/patrol1.jpg" alt="Patrol Uniform" />
        <p class="desc">Standard-Streifenuniform mit taktischer Weste. Getragen im regulären Streifendienst.</p>
        <textarea class="edit-area"></textarea>
        <div class="btn-group">
          <button class="edit-btn">Bearbeiten</button>
          <button class="save-btn" style="display:none;">Speichern</button>
          <button class="cancel-btn" style="display:none;">Abbrechen</button>
        </div>
      </div>
    </div>

    <!-- Traffic Unit -->
    <div class="division" data-id="traffic">
      <h3>Traffic Unit</h3>
      <div class="uniform">
        <img src="bilder/traffic1.jpg" alt="Traffic Uniform" />
        <p class="desc">Helle Jacke mit reflektierenden Elementen für hohe Sichtbarkeit im Straßenverkehr.</p>
        <textarea class="edit-area"></textarea>
        <div class="btn-group">
          <button class="edit-btn">Bearbeiten</button>
          <button class="save-btn" style="display:none;">Speichern</button>
          <button class="cancel-btn" style="display:none;">Abbrechen</button>
        </div>
      </div>
    </div>

    <!-- Detective Bureau -->
    <div class="division" data-id="detective">
      <h3>Detective Bureau</h3>
      <div class="uniform">
        <img src="bilder/detective1.jpg" alt="Detective Outfit" />
        <p class="desc">Schlichte zivile Kleidung mit Abzeichen am Gürtel. Getragen bei verdeckten Einsätzen.</p>
        <textarea class="edit-area"></textarea>
        <div class="btn-group">
          <button class="edit-btn">Bearbeiten</button>
          <button class="save-btn" style="display:none;">Speichern</button>
          <button class="cancel-btn" style="display:none;">Abbrechen</button>
        </div>
      </div>
    </div>

    <!-- Air Support Unit -->
    <div class="division" data-id="airsupport">
      <h3>Air Support Unit</h3>
      <div class="uniform">
        <img src="bilder/air1.jpg" alt="Air Support Uniform" />
        <p class="desc">Fluganzug mit Helm, speziell angepasst für Luftoperationen und Sichtsignale.</p>
        <textarea class="edit-area"></textarea>
        <div class="btn-group">
          <button class="edit-btn">Bearbeiten</button>
          <button class="save-btn" style="display:none;">Speichern</button>
          <button class="cancel-btn" style="display:none;">Abbrechen</button>
        </div>
      </div>
    </div>

    <!-- Metropolitan Division (4 Uniformen) -->
    <div class="division" data-id="metro">
      <h3>Metropolitan Division</h3>
      <div class="uniform-grid">
        <div class="uniform" data-subid="metro1">
          <img src="bilder/metro1.jpg" alt="Metro Uniform 1" />
          <p class="desc">Standard-Taktikuniform mit Körperschutz.</p>
          <textarea class="edit-area"></textarea>
          <div class="btn-group">
            <button class="edit-btn">Bearbeiten</button>
            <button class="save-btn" style="display:none;">Speichern</button>
            <button class="cancel-btn" style="display:none;">Abbrechen</button>
          </div>
        </div>
        <div class="uniform" data-subid="metro2">
          <img src="bilder/metro2.jpg" alt="Metro Uniform 2" />
          <p class="desc">Schwere Schutzkleidung für Risikoeinsätze (SWAT).</p>
          <textarea class="edit-area"></textarea>
          <div class="btn-group">
            <button class="edit-btn">Bearbeiten</button>
            <button class="save-btn" style="display:none;">Speichern</button>
            <button class="cancel-btn" style="display:none;">Abbrechen</button>
          </div>
        </div>
        <div class="uniform" data-subid="metro3">
          <img src="bilder/metro3.jpg" alt="Metro Uniform 3" />
          <p class="desc">Trainingsoutfit für taktische Übungen und Fortbildungen.</p>
          <textarea class="edit-area"></textarea>
          <div class="btn-group">
            <button class="edit-btn">Bearbeiten</button>
            <button class="save-btn" style="display:none;">Speichern</button>
            <button class="cancel-btn" style="display:none;">Abbrechen</button>
          </div>
        </div>
        <div class="uniform" data-subid="metro4">
          <img src="bilder/metro4.jpg" alt="Metro Uniform 4" />
          <p class="desc">Zivile Undercover-Kleidung für spezielle Operationen.</p>
          <textarea class="edit-area"></textarea>
          <div class="btn-group">
            <button class="edit-btn">Bearbeiten</button>
            <button class="save-btn" style="display:none;">Speichern</button>
            <button class="cancel-btn" style="display:none;">Abbrechen</button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <footer class="footer">
    &copy; 2025 RedState fivePD – Alle Rechte vorbehalten.
  </footer>

  <script>
    function toggleMenu() {
      document.getElementById("nav-menu").classList.toggle("hidden");
    }

    // Tastaturbedienung für Hamburger-Menü
    const hamburger = document.querySelector('.hamburger');
    hamburger.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        toggleMenu();
      }
    });

    // Lade gespeicherte Beschreibungen aus localStorage und setze sie
    const storageKey = 'lspdUniformDescriptions';

    function loadDescriptions() {
      const saved = localStorage.getItem(storageKey);
      if (!saved) return;
      const descs = JSON.parse(saved);

      // Einzelne Divisionen mit data-id
      document.querySelectorAll('.division').forEach(div => {
        const id = div.dataset.id;
        if (id && descs[id]) {
          if (div.querySelector('.uniform-grid')) {
            // Falls Unter-Uniformen (Metropolitan)
            div.querySelectorAll('.uniform').forEach(u => {
              const subid = u.dataset.subid;
              if (subid && descs[id][subid]) {
                u.querySelector('.desc').textContent = descs[id][subid];
              }
            });
          } else {
            // Normaler Text
            div.querySelector('.desc').textContent = descs[id];
          }
        }
      });
    }

    // Speichern der Beschreibungen im localStorage
    function saveDescriptions(descs) {
      localStorage.setItem(storageKey, JSON.stringify(descs));
    }

    // Init Edit Buttons & Funktionen
    function initEditButtons() {
      document.querySelectorAll('.division').forEach(div => {
        if (div.querySelector('.uniform-grid')) {
          // mehrere Uniformen in der Division (Metropolitan)
          div.querySelectorAll('.uniform').forEach(uniform => {
            setupUniformEdit(uniform);
          });
        } else {
          // einzelne Uniform pro Division
          setupUniformEdit(div.querySelector('.uniform'));
        }
      });
    }

    function setupUniformEdit(container) {
      const p = container.querySelector('.desc');
      const textarea = container.querySelector('.edit-area');
      const editBtn = container.querySelector('.edit-btn');
      const saveBtn = container.querySelector('.save-btn');
      const cancelBtn = container.querySelector('.cancel-btn');

      editBtn.addEventListener('click', () => {
        textarea.value = p.textContent;
        p.style.display = 'none';
        textarea.style.display = 'block';
        editBtn.style.display = 'none';
        saveBtn.style.display = 'inline-block';
        cancelBtn.style.display = 'inline-block';
      });

      saveBtn.addEventListener('click', () => {
        const newText = textarea.value.trim();
        if(newText.length === 0) {
          alert("Beschreibung darf nicht leer sein!");
          return;
        }
        p.textContent = newText;
        exitEditMode();
        saveAllDescriptions();
      });

      cancelBtn.addEventListener('click', () => {
        exitEditMode();
      });

      function exitEditMode() {
        textarea.style.display = 'none';
        p.style.display = 'block';
        editBtn.style.display = 'inline-block';
        saveBtn.style.display = 'none';
        cancelBtn.style.display = 'none';
      }
    }

    // Alle Beschreibungen sammeln und speichern
    function saveAllDescriptions() {
      const descs = {};
      document.querySelectorAll('.division').forEach(div => {
        const id = div.dataset.id;
        if (!id) return;
        if (div.querySelector('.uniform-grid')) {
          descs[id] = {};
          div.querySelectorAll('.uniform').forEach(u => {
            const subid = u.dataset.subid;
            if (subid) {
              descs[id][subid] = u.querySelector('.desc').textContent;
            }
          });
        } else {
          descs[id] = div.querySelector('.desc').textContent;
        }
      });
      saveDescriptions(descs);
    }

    window.addEventListener('load', () => {
      loadDescriptions();
      initEditButtons();
    });
  </script>
</body>
</html>
